import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// ÊîØÊåÅÁöÑËØ≠Ë®ÄÔºö‰∏≠Êñá„ÄÅËã±Êñá„ÄÅÊ≥ïËØ≠
const resources = {
  en: {
    translation: {
      // App Header
      'app.title': 'PDF Security Editor',
      'app.subtitle': 'Drag to select sensitive areas',
      'app.back': 'Back',
      
      // File Upload
      'upload.title': 'Upload PDF File',
      'upload.description': 'Securely hide sensitive information, all processing is completed locally in your browser',
      'upload.requirements.title': 'File Requirements and Usage Flow',
      'upload.fileRequirements.title': 'üìÑ File Requirements',
      'upload.fileRequirements.format': 'Only PDF format files supported',
      'upload.fileRequirements.size': 'File size no more than 50MB',
      'upload.fileRequirements.password': 'Password-protected files not supported',
      'upload.fileRequirements.fileName': 'File names should use regular characters',
      'upload.usageFlow.title': 'üîÑ Usage Flow',
      'upload.usageFlow.step1': 'Upload PDF file (drag or click to select)',
      'upload.usageFlow.step2': 'Drag mouse to select sensitive information areas',
      'upload.usageFlow.step3': 'Preview effect, confirm redacted areas',
      'upload.usageFlow.step4': 'Select processing method, generate secure PDF',
      
      // FileUploader component
      'fileUploader.validation.formatError': 'Only PDF format files are supported',
      'fileUploader.validation.sizeError': 'File size exceeds 50MB limit, please select a smaller PDF file',
      'fileUploader.validation.nameError': 'File name contains special characters, please rename and try again',
      'fileUploader.validation.failed': 'File Validation Failed',
      'fileUploader.validation.selectValid': 'Please select a valid PDF file',
      'fileUploader.loading.title': 'Loading PDF...',
      'fileUploader.loading.description': 'Please wait, parsing file',
      'fileUploader.remove': 'Remove file',
      'fileUploader.clickToReselect': 'Click to reselect',
      'fileUploader.dragDrop.title': 'Drag PDF file here',
      'fileUploader.dragDrop.subtitle': 'or',
      'fileUploader.dragDrop.clickToSelect': 'click to select file',
      'fileUploader.maxSize': 'Max 50MB',
      'fileUploader.pdfOnly': 'PDF only',
      'fileUploader.localProcessing': 'Local processing',
      'fileUploader.privacy.description': 'All file processing is completed locally on your device, ensuring privacy and security. We do not upload or store your files.',
      
      // Toolbar component
      'toolbar.title': 'Edit Settings',
      'toolbar.subtitle': 'Select processing method and generate secure PDF',
      'toolbar.methodTitle': 'Processing Method',
      'toolbar.methods.canvas': 'Canvas Screenshot',
      'toolbar.methods.canvasDesc': 'Convert to image, highest security, completely unrecoverable',
      'toolbar.methods.pixelate': 'Pixelate Processing',
      'toolbar.methods.pixelateDesc': 'Pixelated blur, maintain PDF structure, fast processing',
      'toolbar.recommended': 'Recommended',
      'toolbar.markColor': 'Mark Color',
      'toolbar.colorDescription': 'Select display color for marked areas, convenient for distinguishing different types of sensitive information',
      'toolbar.colors.red': 'Red',
      'toolbar.colors.blue': 'Blue', 
      'toolbar.colors.green': 'Green',
      'toolbar.colors.yellow': 'Yellow',
      'toolbar.colors.purple': 'Purple',
      'toolbar.undo': 'Undo',
      'toolbar.redo': 'Redo',
      'toolbar.undoTooltip': 'Undo (Ctrl+Z)',
      'toolbar.redoTooltip': 'Redo (Ctrl+Y)',
      'toolbar.preview': 'Preview Effect',
      'toolbar.processing': 'Processing...',
      'toolbar.generatePDF': 'Generate Secure PDF',
      'toolbar.clearMarks': 'Clear Marks',
      
      // PDF Processing
      'pdf.loading': 'PDF loading successful! {{totalPages}} pages in total, you can now start selecting sensitive areas to hide',
      'pdf.currentPage': '{{current}}/{{total}}',
      'pdf.thumbnailView': 'Thumbnail View',
      'pdf.thumbnailViewPages': '({{total}} pages)',
      'pdf.page': 'Page {{number}}',
      'pdf.marks': '{{count}} marks',
      'pdf.markAreas': 'Marked areas: {{count}}',
      
      // Language Selector
      'language.selector': 'Language',
      'language.en': 'English',
      'language.zh': '‰∏≠Êñá',
      'language.fr': 'Fran√ßais',
      
      // Progress Messages
      'progress.rendering': 'Rendering page {{pageNum}} completed',
      'progress.processing': 'Processing page {{pageNum}}',
      'progress.generating': 'Generating PDF...',
      'progress.finalizing': 'Finalizing...',
      'progress.canvasComplete': 'Canvas screenshot security editing completed, processed {{totalPages}} pages PDF, {{marksCount}} sensitive areas',
      'progress.loadingStart': 'Starting to load PDF file...',
      'progress.readingFile': 'Reading file data...',
      'progress.parsingPdf': 'Parsing PDF structure...',
      'progress.loadingContent': 'Loading PDF content...',
      'progress.pdfLoaded': 'PDF loaded successfully, {{totalPages}} pages in total',
      'progress.renderingPage': 'Rendering page {{pageNum}}...',
      'progress.gettingDimensions': 'Getting page dimensions...',
      'progress.creatingCanvas': 'Creating canvas...',
      'progress.renderingContent': 'Rendering page content...',
      'progress.extractingImage': 'Extracting image data...',
      'progress.processingStart': 'Starting PDF processing...',
      'progress.creatingDocument': 'Creating new PDF document...',
      'progress.canvasProcessing': 'Canvas screenshot processing page {{pageNum}}...',
      'progress.renderingCanvas': 'Rendering page {{pageNum}}...',
      'progress.redactingAreas': 'Redacting {{count}} sensitive areas...',
      'progress.convertingToImage': 'Converting page {{pageNum}} to image...',
      'progress.pageError': 'Page {{pageNum}} processing error, skipping...',
      'progress.generatingFinalPdf': 'Generating final PDF file...',
      'progress.canvasCompleted': 'Canvas screenshot completed! Processed {{totalPages}} pages, {{marksCount}} sensitive areas',
      'progress.pixelateProcessing': 'Pixelate processing page {{pageNum}}...',
      'progress.pixelateAreas': 'Pixelating {{count}} sensitive areas...',
      'progress.pixelateCompleted': 'Pixelate processing completed! Processed {{totalPages}} pages, {{marksCount}} sensitive areas',
      'progress.rebuildPrep': 'Preparing PDF rebuild...',
      'progress.analyzingStructure': 'Analyzing PDF structure...',
      'progress.processingStructure': 'Processing page {{pageNum}} PDF structure...',
      'progress.removingText': 'Removing {{count}} sensitive text objects from page {{pageNum}}...',
      'progress.addingMasks': 'Adding {{count}} security masks to page {{pageNum}}...',
      'progress.structureComplete': 'Page {{pageNum}} structure rebuild completed, removed {{count}} text objects',
      'progress.noSensitiveAreas': 'Page {{pageNum}} has no sensitive areas, keeping original structure',
      'progress.cleaningMetadata': 'Cleaning PDF metadata and optimizing structure...',
      'progress.rebuildCompleted': 'PDF rebuild completed! Processed {{totalPages}} pages, {{marksCount}} sensitive areas',
      
      // Notifications
      'notification.fileLoaded': 'File loaded successfully',
      'notification.fileError': 'File loading failed',
      'notification.processingComplete': 'Processing completed successfully',
      'notification.processingError': 'Processing failed',
      'notification.markAdded': 'Mark added successfully',
      'notification.markRemoved': 'Mark removed successfully',
      
      // Common
      'common.loading': 'Loading...',
      'common.cancel': 'Cancel',
      'common.confirm': 'Confirm',
      'common.close': 'Close',
      'common.save': 'Save',
      'common.delete': 'Delete',
      'common.edit': 'Edit',
      'common.settings': 'Settings',
      'common.processError': 'File processing failed, please try again',
      'common.secureEdit': 'secure_edit',
      'common.confirmBack': 'Going back will lose current editing progress, are you sure you want to go back?',
      
      // Error Messages - Additional
      'error.pdfNotLoaded': 'PDF not loaded',
      'error.cannotGetCanvasContext': 'Unable to get Canvas context',
      'error.pdfLoadFailed': 'PDF loading failed',
      'error.invalidPdf': 'File is not a valid PDF format, please check if the file is corrupted',
      'error.missingPdf': 'PDF file data missing or corrupted',
      'error.passwordProtected': 'PDF file is password protected, please remove password protection first',
      'error.pdfProcessingError': 'PDF processing error: {{message}}',
      'error.pdfLoadFailedGeneric': 'PDF loading failed',
      'error.pageRenderFailed': 'Page rendering failed',
      'error.renderError': 'Rendering error: {{message}}',
      'error.pdfProcessFailed': 'PDF processing failed, please try again',
      'error.unsupportedMethod': 'Unsupported processing method: {{method}}',
      'error.pdfDataNotFound': 'PDF file data not found, please reload PDF',
      'error.pageSkipped': 'Skipping page {{pageNum}}: Unable to get Canvas context',
      'error.pageProcessingError': 'Error processing page {{pageNum}}',
      'error.pageNotExist': 'Page {{pageNum}} does not exist, skipping...',
      'error.textAnalysisFailed': 'Page {{pageNum}} text analysis failed, using basic masking method',
      'error.metadataCleaningFailed': 'Metadata cleaning failed',
    }
  },
  zh: {
    translation: {
      // App Header
      'app.title': 'PDFÂÆâÂÖ®ÁºñËæëÂô®',
      'app.subtitle': 'ÊãñÊãΩÈÄâÊã©ÊïèÊÑüÂå∫Âüü',
      'app.back': 'ËøîÂõû',
      
      // File Upload
      'upload.title': '‰∏ä‰º†PDFÊñá‰ª∂',
      'upload.description': 'ÂÆâÂÖ®Âú∞ÈöêËóèÊïèÊÑü‰ø°ÊÅØÔºåÊâÄÊúâÂ§ÑÁêÜÈÉΩÂú®ÊµèËßàÂô®Êú¨Âú∞ÂÆåÊàê',
      'upload.requirements.title': 'Êñá‰ª∂Ë¶ÅÊ±Ç‰∏é‰ΩøÁî®ÊµÅÁ®ã',
      'upload.fileRequirements.title': 'üìÑ Êñá‰ª∂Ë¶ÅÊ±Ç',
      'upload.fileRequirements.format': '‰ªÖÊîØÊåÅ PDF Ê†ºÂºèÊñá‰ª∂',
      'upload.fileRequirements.size': 'Êñá‰ª∂Â§ßÂ∞è‰∏çË∂ÖËøá 50MB',
      'upload.fileRequirements.password': '‰∏çÊîØÊåÅÂØÜÁ†Å‰øùÊä§ÁöÑÊñá‰ª∂',
      'upload.fileRequirements.fileName': 'Êñá‰ª∂ÂêçÂª∫ËÆÆ‰ΩøÁî®Â∏∏ËßÑÂ≠óÁ¨¶',
      'upload.usageFlow.title': 'üîÑ ‰ΩøÁî®ÊµÅÁ®ã',
      'upload.usageFlow.step1': '‰∏ä‰º†PDFÊñá‰ª∂ÔºàÊãñÊãΩÊàñÁÇπÂáªÈÄâÊã©Ôºâ',
      'upload.usageFlow.step2': 'ÊãñÊãΩÈº†Ê†áÂúàÈÄâÊïèÊÑü‰ø°ÊÅØÂå∫Âüü',
      'upload.usageFlow.step3': 'È¢ÑËßàÊïàÊûúÔºåÁ°ÆËÆ§Ê∂ÇÈªëÂå∫Âüü',
      'upload.usageFlow.step4': 'ÈÄâÊã©Â§ÑÁêÜÊñπÊ≥ïÔºåÁîüÊàêÂÆâÂÖ®PDF',
      
      // FileUploader component
      'fileUploader.validation.formatError': '‰ªÖÊîØÊåÅPDFÊ†ºÂºèÊñá‰ª∂',
      'fileUploader.validation.sizeError': 'Êñá‰ª∂Â§ßÂ∞èË∂ÖËøá50MBÈôêÂà∂ÔºåËØ∑ÈÄâÊã©ËæÉÂ∞èÁöÑPDFÊñá‰ª∂',
      'fileUploader.validation.nameError': 'Êñá‰ª∂ÂêçÂåÖÂê´ÁâπÊÆäÂ≠óÁ¨¶ÔºåËØ∑ÈáçÂëΩÂêçÂêéÈáçËØï',
      'fileUploader.validation.failed': 'Êñá‰ª∂È™åËØÅÂ§±Ë¥•',
      'fileUploader.validation.selectValid': 'ËØ∑ÈÄâÊã©Á¨¶ÂêàË¶ÅÊ±ÇÁöÑPDFÊñá‰ª∂',
      'fileUploader.loading.title': 'Ê≠£Âú®Âä†ËΩΩPDF...',
      'fileUploader.loading.description': 'ËØ∑Á®çÂÄôÔºåÊ≠£Âú®Ëß£ÊûêÊñá‰ª∂',
      'fileUploader.remove': 'ÁßªÈô§Êñá‰ª∂',
      'fileUploader.clickToReselect': 'ÁÇπÂáªÈáçÊñ∞ÈÄâÊã©',
      'fileUploader.dragDrop.title': 'ÊãñÊãΩPDFÊñá‰ª∂Âà∞Ê≠§Â§Ñ',
      'fileUploader.dragDrop.subtitle': 'ÊàñËÄÖ',
      'fileUploader.dragDrop.clickToSelect': 'ÁÇπÂáªÈÄâÊã©Êñá‰ª∂',
      'fileUploader.maxSize': 'ÊúÄÂ§ß50MB',
      'fileUploader.pdfOnly': '‰ªÖPDFÊ†ºÂºè',
      'fileUploader.localProcessing': 'Êú¨Âú∞Â§ÑÁêÜ',
      'fileUploader.privacy.description': 'ÊâÄÊúâÊñá‰ª∂Â§ÑÁêÜÂùáÂú®ÊÇ®ÁöÑËÆæÂ§áÊú¨Âú∞ÂÆåÊàêÔºåÁ°Æ‰øùÈöêÁßÅÂÆâÂÖ®„ÄÇÊàë‰ª¨‰∏ç‰ºö‰∏ä‰º†ÊàñÂ≠òÂÇ®ÊÇ®ÁöÑÊñá‰ª∂„ÄÇ',
      
      // Toolbar component
      'toolbar.title': 'ÁºñËæëËÆæÁΩÆ',
      'toolbar.subtitle': 'ÈÄâÊã©Â§ÑÁêÜÊñπÊ≥ïÂπ∂ÁîüÊàêÂÆâÂÖ®PDF',
      'toolbar.methodTitle': 'Â§ÑÁêÜÊñπÊ≥ï',
      'toolbar.methods.canvas': 'CanvasÊà™Âõæ',
      'toolbar.methods.canvasDesc': 'ËΩ¨‰∏∫ÂõæÂÉèÔºåÊúÄÈ´òÂÆâÂÖ®ÊÄßÔºåÂÆåÂÖ®‰∏çÂèØÊÅ¢Â§ç',
      'toolbar.methods.pixelate': 'ÂÉèÁ¥†ÂåñÂ§ÑÁêÜ',
      'toolbar.methods.pixelateDesc': 'ÂÉèÁ¥†ÂåñÊ®°Á≥äÔºå‰øùÊåÅPDFÁªìÊûÑÔºåÂø´ÈÄüÂ§ÑÁêÜ',
      'toolbar.recommended': 'Êé®Ëçê',
      'toolbar.markColor': 'Ê†áËÆ∞È¢úËâ≤',
      'toolbar.colorDescription': 'ÈÄâÊã©Ê†áËÆ∞Âå∫ÂüüÁöÑÊòæÁ§∫È¢úËâ≤Ôºå‰æø‰∫éÂå∫ÂàÜ‰∏çÂêåÁ±ªÂûãÁöÑÊïèÊÑü‰ø°ÊÅØ',
      'toolbar.colors.red': 'Á∫¢Ëâ≤',
      'toolbar.colors.blue': 'ËìùËâ≤', 
      'toolbar.colors.green': 'ÁªøËâ≤',
      'toolbar.colors.yellow': 'ÈªÑËâ≤',
      'toolbar.colors.purple': 'Á¥´Ëâ≤',
      'toolbar.undo': 'Êí§ÈîÄ',
      'toolbar.redo': 'ÈáçÂÅö',
      'toolbar.undoTooltip': 'Êí§ÈîÄ (Ctrl+Z)',
      'toolbar.redoTooltip': 'ÈáçÂÅö (Ctrl+Y)',
      'toolbar.preview': 'È¢ÑËßàÊïàÊûú',
      'toolbar.processing': 'Â§ÑÁêÜ‰∏≠...',
      'toolbar.generatePDF': 'ÁîüÊàêÂÆâÂÖ®PDF',
      'toolbar.clearMarks': 'Ê∏ÖÈô§Ê†áËÆ∞',
      
      // PDF Processing
      'pdf.loading': 'PDFÂä†ËΩΩÊàêÂäüÔºÅÂÖ± {{totalPages}} È°µÔºåÊÇ®ÂèØ‰ª•ÂºÄÂßãÈÄâÊã©ÈúÄË¶ÅÈöêËóèÁöÑÊïèÊÑüÂå∫Âüü',
      'pdf.currentPage': '{{current}}/{{total}}',
      'pdf.thumbnailView': 'Áº©Áï•ÂõæËßÜÂõæ',
      'pdf.thumbnailViewPages': '({{total}} È°µ)',
      'pdf.page': 'Á¨¨ {{number}} È°µ',
      'pdf.marks': '{{count}} ‰∏™Ê†áËÆ∞',
      'pdf.markAreas': 'Ê†áËÆ∞Âå∫ÂüüÔºö{{count}} ‰∏™',
      
      // Language Selector
      'language.selector': 'ËØ≠Ë®Ä',
      'language.en': 'English',
      'language.zh': '‰∏≠Êñá',
      'language.fr': 'Fran√ßais',
      
      // Progress Messages
      'progress.rendering': 'Á¨¨{{pageNum}}È°µÊ∏≤ÊüìÂÆåÊàê',
      'progress.processing': 'Ê≠£Âú®Â§ÑÁêÜÁ¨¨{{pageNum}}È°µ',
      'progress.generating': 'Ê≠£Âú®ÁîüÊàêPDF...',
      'progress.finalizing': 'Ê≠£Âú®ÂÆåÊàê...',
      'progress.canvasComplete': 'CanvasÊà™ÂõæÂÆâÂÖ®ÁºñËæëÂÆåÊàêÔºåÂ∑≤Â§ÑÁêÜ{{totalPages}}È°µPDFÔºå{{marksCount}}‰∏™ÊïèÊÑüÂå∫Âüü',
      'progress.loadingStart': 'ÂºÄÂßãÂä†ËΩΩPDFÊñá‰ª∂...',
      'progress.readingFile': 'ËØªÂèñÊñá‰ª∂Êï∞ÊçÆ...',
      'progress.parsingPdf': 'Ëß£ÊûêPDFÁªìÊûÑ...',
      'progress.loadingContent': 'Âä†ËΩΩPDFÂÜÖÂÆπ...',
      'progress.pdfLoaded': 'PDFÂä†ËΩΩÂÆåÊàêÔºåÂÖ±{{totalPages}}È°µ',
      'progress.renderingPage': 'Ê≠£Âú®Ê∏≤ÊüìÁ¨¨{{pageNum}}È°µ...',
      'progress.gettingDimensions': 'Ëé∑ÂèñÈ°µÈù¢Â∞∫ÂØ∏...',
      'progress.creatingCanvas': 'ÂàõÂª∫ÁîªÂ∏É...',
      'progress.renderingContent': 'Ê∏≤ÊüìÈ°µÈù¢ÂÜÖÂÆπ...',
      'progress.extractingImage': 'ÊèêÂèñÂõæÂÉèÊï∞ÊçÆ...',
      'progress.processingStart': 'ÂºÄÂßãÂ§ÑÁêÜPDF...',
      'progress.creatingDocument': 'ÂàõÂª∫Êñ∞PDFÊñáÊ°£...',
      'progress.canvasProcessing': 'CanvasÊà™ÂõæÂ§ÑÁêÜÁ¨¨{{pageNum}}È°µ...',
      'progress.renderingCanvas': 'Ê∏≤ÊüìÁ¨¨{{pageNum}}È°µ...',
      'progress.redactingAreas': 'Ê∂ÇÈªë{{count}}‰∏™ÊïèÊÑüÂå∫Âüü...',
      'progress.convertingToImage': 'ËΩ¨Êç¢Á¨¨{{pageNum}}È°µ‰∏∫ÂõæÂÉè...',
      'progress.pageError': 'Á¨¨{{pageNum}}È°µÂ§ÑÁêÜÂá∫ÈîôÔºåË∑≥Ëøá...',
      'progress.generatingFinalPdf': 'ÁîüÊàêÊúÄÁªàPDFÊñá‰ª∂...',
      'progress.canvasCompleted': 'CanvasÊà™ÂõæÂÆåÊàêÔºÅÂÖ±Â§ÑÁêÜ{{totalPages}}È°µÔºå{{marksCount}}‰∏™ÊïèÊÑüÂå∫Âüü',
      'progress.pixelateProcessing': 'ÂÉèÁ¥†ÂåñÂ§ÑÁêÜÁ¨¨{{pageNum}}È°µ...',
      'progress.pixelateAreas': 'ÂÉèÁ¥†Âåñ{{count}}‰∏™ÊïèÊÑüÂå∫Âüü...',
      'progress.pixelateCompleted': 'ÂÉèÁ¥†ÂåñÂ§ÑÁêÜÂÆåÊàêÔºÅÂÖ±Â§ÑÁêÜ{{totalPages}}È°µÔºå{{marksCount}}‰∏™ÊïèÊÑüÂå∫Âüü',
      'progress.rebuildPrep': 'ÂáÜÂ§áPDFÈáçÂª∫...',
      'progress.analyzingStructure': 'ÂàÜÊûêPDFÁªìÊûÑ...',
      'progress.processingStructure': 'Â§ÑÁêÜÁ¨¨{{pageNum}}È°µPDFÁªìÊûÑ...',
      'progress.removingText': 'ÁßªÈô§Á¨¨{{pageNum}}È°µÁöÑ{{count}}‰∏™ÊïèÊÑüÊñáÊú¨ÂØπË±°...',
      'progress.addingMasks': 'Âú®Á¨¨{{pageNum}}È°µÊ∑ªÂä†{{count}}‰∏™ÂÆâÂÖ®ÈÅÆÁΩ©...',
      'progress.structureComplete': 'Á¨¨{{pageNum}}È°µÁªìÊûÑÈáçÂª∫ÂÆåÊàêÔºåÁßªÈô§‰∫Ü{{count}}‰∏™ÊñáÊú¨ÂØπË±°',
      'progress.noSensitiveAreas': 'Á¨¨{{pageNum}}È°µÊó†ÊïèÊÑüÂå∫ÂüüÔºå‰øùÊåÅÂéüÁªìÊûÑ',
      'progress.cleaningMetadata': 'Ê∏ÖÁêÜPDFÂÖÉÊï∞ÊçÆÂπ∂‰ºòÂåñÁªìÊûÑ...',
      'progress.rebuildCompleted': 'PDFÈáçÂª∫ÂÆåÊàêÔºÅÂÖ±Â§ÑÁêÜ{{totalPages}}È°µÔºå{{marksCount}}‰∏™ÊïèÊÑüÂå∫Âüü',
      
      // Notifications
      'notification.fileLoaded': 'Êñá‰ª∂Âä†ËΩΩÊàêÂäü',
      'notification.fileError': 'Êñá‰ª∂Âä†ËΩΩÂ§±Ë¥•',
      'notification.processingComplete': 'Â§ÑÁêÜÊàêÂäüÂÆåÊàê',
      'notification.processingError': 'Â§ÑÁêÜÂ§±Ë¥•',
      'notification.markAdded': 'Ê†áËÆ∞Ê∑ªÂä†ÊàêÂäü',
      'notification.markRemoved': 'Ê†áËÆ∞ÁßªÈô§ÊàêÂäü',
      
      // Common
      'common.loading': 'Âä†ËΩΩ‰∏≠...',
      'common.cancel': 'ÂèñÊ∂à',
      'common.confirm': 'Á°ÆËÆ§',
      'common.close': 'ÂÖ≥Èó≠',
      'common.save': '‰øùÂ≠ò',
      'common.delete': 'Âà†Èô§',
      'common.edit': 'ÁºñËæë',
      'common.settings': 'ËÆæÁΩÆ',
      
      // Error Messages - Additional
      'error.pdfNotLoaded': 'PDFÊú™Âä†ËΩΩ',
      'error.cannotGetCanvasContext': 'Êó†Ê≥ïËé∑ÂèñCanvas‰∏ä‰∏ãÊñá',
      'error.pdfLoadFailed': 'PDFÂä†ËΩΩÂ§±Ë¥•',
      'error.invalidPdf': 'Êñá‰ª∂‰∏çÊòØÊúâÊïàÁöÑPDFÊ†ºÂºèÔºåËØ∑Ê£ÄÊü•Êñá‰ª∂ÊòØÂê¶ÊçüÂùè',
      'error.missingPdf': 'PDFÊñá‰ª∂Êï∞ÊçÆÁº∫Â§±ÊàñÊçüÂùè',
      'error.passwordProtected': 'PDFÊñá‰ª∂Ë¢´ÂØÜÁ†Å‰øùÊä§ÔºåËØ∑ÂÖàËß£Èô§ÂØÜÁ†Å‰øùÊä§',
      'error.pdfProcessingError': 'PDFÂ§ÑÁêÜÈîôËØØ: {{message}}',
      'error.pdfLoadFailedGeneric': 'PDFÂä†ËΩΩÂ§±Ë¥•',
      'error.pageRenderFailed': 'È°µÈù¢Ê∏≤ÊüìÂ§±Ë¥•',
      'error.renderError': 'Ê∏≤ÊüìÈîôËØØ: {{message}}',
      'error.pdfProcessFailed': 'PDFÂ§ÑÁêÜÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',
      'error.unsupportedMethod': '‰∏çÊîØÊåÅÁöÑÂ§ÑÁêÜÊñπÊ≥ï: {{method}}',
      'error.pdfDataNotFound': 'PDFÊñá‰ª∂Êï∞ÊçÆÊú™ÊâæÂà∞ÔºåËØ∑ÈáçÊñ∞Âä†ËΩΩPDF',
      'error.pageSkipped': 'Ë∑≥ËøáÁ¨¨{{pageNum}}È°µÔºöÊó†Ê≥ïËé∑ÂèñCanvas‰∏ä‰∏ãÊñá',
      'error.pageProcessingError': 'Â§ÑÁêÜÁ¨¨{{pageNum}}È°µÊó∂Âá∫Èîô',
      'error.pageNotExist': 'Á¨¨{{pageNum}}È°µ‰∏çÂ≠òÂú®ÔºåË∑≥Ëøá...',
      'error.textAnalysisFailed': 'Á¨¨{{pageNum}}È°µÊñáÊú¨ÂàÜÊûêÂ§±Ë¥•Ôºå‰ΩøÁî®Âü∫Á°ÄÈÅÆÁΩ©ÊñπÊ≥ï',
      'error.metadataCleaningFailed': 'ÂÖÉÊï∞ÊçÆÊ∏ÖÁêÜÂ§±Ë¥•'
    }
  },
  fr: {
    translation: {
      // App Header
      'app.title': '√âditeur PDF S√©curis√©',
      'app.subtitle': 'Glissez pour s√©lectionner les zones sensibles',
      'app.back': 'Retour',
      
      // File Upload
      'upload.title': '√âditeur PDF S√©curis√©',
      'upload.description': 'T√©l√©chargez votre fichier PDF pour commencer l\'√©dition',
      'upload.requirements.title': 'Exigences du fichier et flux d\'utilisation',
      'upload.fileRequirements.title': 'üìÑ Exigences du fichier',
      'upload.fileRequirements.format': 'Seuls les fichiers PDF sont pris en charge',
      'upload.fileRequirements.size': 'Taille de fichier ne d√©passant pas 50 Mo',
      'upload.fileRequirements.password': 'Fichiers prot√©g√©s par mot de passe non pris en charge',
      'upload.fileRequirements.fileName': 'Les noms de fichiers doivent utiliser des caract√®res r√©guliers',
      'upload.usageFlow.title': 'üîÑ Flux d\'utilisation',
      'upload.usageFlow.step1': 'T√©l√©charger le fichier PDF (glisser ou cliquer pour s√©lectionner)',
      'upload.usageFlow.step2': 'Glisser la souris pour s√©lectionner les zones d\'informations sensibles',
      'upload.usageFlow.step3': 'Pr√©visualiser l\'effet, confirmer les zones caviard√©es',
      'upload.usageFlow.step4': 'S√©lectionner la m√©thode de traitement, g√©n√©rer le PDF s√©curis√©',
      
      // FileUploader component  
      'fileUploader.validation.formatError': 'Seuls les fichiers PDF sont pris en charge',
      'fileUploader.validation.sizeError': 'La taille du fichier d√©passe la limite de 50 Mo, veuillez s√©lectionner un fichier PDF plus petit',
      'fileUploader.validation.nameError': 'Le nom du fichier contient des caract√®res sp√©ciaux, veuillez renommer et r√©essayer',
      'fileUploader.validation.failed': '√âchec de la validation du fichier',
      'fileUploader.validation.selectValid': 'Veuillez s√©lectionner un fichier PDF valide',
      'fileUploader.loading.title': 'Chargement du PDF...',
      'fileUploader.loading.description': 'Veuillez patienter, analyse du fichier en cours',
      'fileUploader.remove': 'Supprimer le fichier',
      'fileUploader.clickToReselect': 'Cliquer pour res√©lectionner',
      'fileUploader.dragDrop.title': 'Glisser le fichier PDF ici',
      'fileUploader.dragDrop.subtitle': 'ou',
      'fileUploader.dragDrop.clickToSelect': 'cliquer pour s√©lectionner le fichier',
      'fileUploader.maxSize': 'Max 50 Mo',
      'fileUploader.pdfOnly': 'PDF uniquement',
      'fileUploader.localProcessing': 'Traitement local',
      'fileUploader.privacy.description': 'Tout le traitement de fichier est effectu√© localement sur votre appareil, garantissant la confidentialit√© et la s√©curit√©. Nous ne t√©l√©chargeons ni ne stockons vos fichiers.',
      
      // Toolbar component
      'toolbar.title': 'Param√®tres d\'√©dition',
      'toolbar.subtitle': 'S√©lectionner la m√©thode de traitement et g√©n√©rer le PDF s√©curis√©',
      'toolbar.methodTitle': 'M√©thode de traitement',
      'toolbar.methods.canvas': 'Capture Canvas',
      'toolbar.methods.canvasDesc': 'Convertir en image, s√©curit√© maximale, compl√®tement irr√©cup√©rable',
      'toolbar.methods.pixelate': 'Traitement pixelis√©',
      'toolbar.methods.pixelateDesc': 'Flou pixelis√©, maintenir la structure PDF, traitement rapide',
      'toolbar.recommended': 'Recommand√©',
      'toolbar.markColor': 'Couleur de marque',
      'toolbar.colorDescription': 'S√©lectionner la couleur d\'affichage pour les zones marqu√©es, pratique pour distinguer diff√©rents types d\'informations sensibles',
      'toolbar.colors.red': 'Rouge',
      'toolbar.colors.blue': 'Bleu', 
      'toolbar.colors.green': 'Vert',
      'toolbar.colors.yellow': 'Jaune',
      'toolbar.colors.purple': 'Violet',
      'toolbar.undo': 'Annuler',
      'toolbar.redo': 'Refaire',
      'toolbar.undoTooltip': 'Annuler (Ctrl+Z)',
      'toolbar.redoTooltip': 'Refaire (Ctrl+Y)',
      'toolbar.preview': 'Pr√©visualiser l\'effet',
      'toolbar.processing': 'Traitement...',
      'toolbar.generatePDF': 'G√©n√©rer PDF s√©curis√©',
      'toolbar.clearMarks': 'Effacer les marques',
      
      // PDF Processing
      'pdf.loading': 'Chargement PDF r√©ussi! {{totalPages}} pages au total, vous pouvez maintenant commencer √† s√©lectionner les zones sensibles √† masquer',
      'pdf.currentPage': '{{current}}/{{total}}',
      'pdf.thumbnailView': 'Vue Miniature',
      'pdf.thumbnailViewPages': '({{total}} pages)',
      'pdf.page': 'Page {{number}}',
      'pdf.marks': '{{count}} marques',
      'pdf.markAreas': 'Zones marqu√©es : {{count}}',
      
      // Language Selector
      'language.selector': 'Langue',
      'language.en': 'English',
      'language.zh': '‰∏≠Êñá',
      'language.fr': 'Fran√ßais',
      
      // Progress Messages
      'progress.rendering': 'Rendu de la page {{pageNum}} termin√©',
      'progress.processing': 'Traitement de la page {{pageNum}} en cours',
      'progress.generating': 'G√©n√©ration du PDF...',
      'progress.finalizing': 'Finalisation...',
      'progress.canvasComplete': '√âdition de s√©curit√© par capture Canvas termin√©e, trait√© {{totalPages}} pages PDF, {{marksCount}} zones sensibles',
      'progress.loadingStart': 'D√©but du chargement du fichier PDF...',
      'progress.readingFile': 'Lecture des donn√©es du fichier...',
      'progress.parsingPdf': 'Analyse de la structure PDF...',
      'progress.loadingContent': 'Chargement du contenu PDF...',
      'progress.pdfLoaded': 'PDF charg√© avec succ√®s, {{totalPages}} pages au total',
      'progress.renderingPage': 'Rendu de la page {{pageNum}} en cours...',
      'progress.gettingDimensions': 'Obtention des dimensions de la page...',
      'progress.creatingCanvas': 'Cr√©ation du canvas...',
      'progress.renderingContent': 'Rendu du contenu de la page...',
      'progress.extractingImage': 'Extraction des donn√©es d\'image...',
      'progress.processingStart': 'D√©but du traitement PDF...',
      'progress.creatingDocument': 'Cr√©ation du nouveau document PDF...',
      'progress.canvasProcessing': 'Traitement par capture Canvas de la page {{pageNum}}...',
      'progress.renderingCanvas': 'Rendu de la page {{pageNum}}...',
      'progress.redactingAreas': 'Caviarder {{count}} zones sensibles...',
      'progress.convertingToImage': 'Conversion de la page {{pageNum}} en image...',
      'progress.pageError': 'Erreur de traitement de la page {{pageNum}}, ignor√©e...',
      'progress.generatingFinalPdf': 'G√©n√©ration du fichier PDF final...',
      'progress.canvasCompleted': 'Capture Canvas termin√©e ! Trait√© {{totalPages}} pages, {{marksCount}} zones sensibles',
      'progress.pixelateProcessing': 'Traitement pixelis√© de la page {{pageNum}}...',
      'progress.pixelateAreas': 'Pixelisation de {{count}} zones sensibles...',
      'progress.pixelateCompleted': 'Traitement pixelis√© termin√© ! Trait√© {{totalPages}} pages, {{marksCount}} zones sensibles',
      'progress.rebuildPrep': 'Pr√©paration de la reconstruction PDF...',
      'progress.analyzingStructure': 'Analyse de la structure PDF...',
      'progress.processingStructure': 'Traitement de la structure PDF de la page {{pageNum}}...',
      'progress.removingText': 'Suppression de {{count}} objets texte sensibles de la page {{pageNum}}...',
      'progress.addingMasks': 'Ajout de {{count}} masques de s√©curit√© √† la page {{pageNum}}...',
      'progress.structureComplete': 'Reconstruction de la structure de la page {{pageNum}} termin√©e, {{count}} objets texte supprim√©s',
      'progress.noSensitiveAreas': 'La page {{pageNum}} n\'a pas de zones sensibles, conservation de la structure originale',
      'progress.cleaningMetadata': 'Nettoyage des m√©tadonn√©es PDF et optimisation de la structure...',
      'progress.rebuildCompleted': 'Reconstruction PDF termin√©e ! Trait√© {{totalPages}} pages, {{marksCount}} zones sensibles',
      
      // Notifications
      'notification.fileLoaded': 'Fichier charg√© avec succ√®s',
      'notification.fileError': '√âchec du chargement du fichier',
      'notification.processingComplete': 'Traitement termin√© avec succ√®s',
      'notification.processingError': '√âchec du traitement',
      'notification.markAdded': 'Marque ajout√©e avec succ√®s',
      'notification.markRemoved': 'Marque supprim√©e avec succ√®s',
      
      // Common
      'common.loading': 'Chargement...',
      'common.cancel': 'Annuler',
      'common.confirm': 'Confirmer',
      'common.close': 'Fermer',
      'common.save': 'Enregistrer',
      'common.delete': 'Supprimer',
      'common.edit': 'Modifier',
      'common.settings': 'Param√®tres',
      'common.processError': '√âchec du traitement du fichier, veuillez r√©essayer',
      'common.secureEdit': '√©dition_s√©curis√©e',
      'common.confirmBack': 'Retourner fera perdre le progr√®s d\'√©dition actuel, √™tes-vous s√ªr de vouloir retourner?',
      
      // Error Messages - Additional
      'error.pdfNotLoaded': 'PDF non charg√©',
      'error.cannotGetCanvasContext': 'Impossible d\'obtenir le contexte Canvas',
      'error.pdfLoadFailed': '√âchec du chargement PDF',
      'error.invalidPdf': 'Le fichier n\'est pas un format PDF valide, veuillez v√©rifier si le fichier est corrompu',
      'error.missingPdf': 'Donn√©es du fichier PDF manquantes ou corrompues',
      'error.passwordProtected': 'Le fichier PDF est prot√©g√© par mot de passe, veuillez d\'abord supprimer la protection par mot de passe',
      'error.pdfProcessingError': 'Erreur de traitement PDF: {{message}}',
      'error.pdfLoadFailedGeneric': '√âchec du chargement PDF',
      'error.pageRenderFailed': '√âchec du rendu de page',
      'error.renderError': 'Erreur de rendu: {{message}}',
      'error.pdfProcessFailed': '√âchec du traitement PDF, veuillez r√©essayer',
      'error.unsupportedMethod': 'M√©thode de traitement non support√©e: {{method}}',
      'error.pdfDataNotFound': 'Donn√©es du fichier PDF non trouv√©es, veuillez recharger le PDF',
      'error.pageSkipped': 'Ignorer la page {{pageNum}}: Impossible d\'obtenir le contexte Canvas',
      'error.pageProcessingError': 'Erreur lors du traitement de la page {{pageNum}}',
      'error.pageNotExist': 'La page {{pageNum}} n\'existe pas, ignor√©e...',
      'error.textAnalysisFailed': 'Analyse de texte de la page {{pageNum}} √©chou√©e, utilisation de la m√©thode de masquage de base',
      'error.metadataCleaningFailed': '√âchec du nettoyage des m√©tadonn√©es'
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    supportedLngs: ['en', 'zh', 'fr'], 
    nonExplicitSupportedLngs: true, 
    debug: false, // ÂÖ≥Èó≠Ë∞ÉËØïÊ®°ÂºèÊèêÂçáÊÄßËÉΩ
    
    interpolation: {
      escapeValue: false,
    },
    
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],
      lookupLocalStorage: 'i18nextLng',
      lookupFromPathIndex: 0,
      lookupFromSubdomainIndex: 0,
      caches: ['localStorage'],
      excludeCacheFor: ['cimode'], // ‰∏çÁºìÂ≠òÂºÄÂèëÊ®°Âºè
      // ‰ºòÂåñÊ£ÄÊµãÁÆóÊ≥ï
      convertDetectedLanguage: (lng: string) => {
        // Â∞ÜÂ∏∏ËßÅÁöÑËØ≠Ë®Ä‰ª£Á†ÅÊ†áÂáÜÂåñ
        const langMap: { [key: string]: string } = {
          'zh-CN': 'zh',
          'zh-Hans': 'zh',
          'zh-Hant': 'zh',
          'zh-TW': 'zh',
          'zh-HK': 'zh',
          'en-US': 'en',
          'en-GB': 'en',
          'fr-FR': 'fr',
          'fr-CA': 'fr'
        };
        
        return langMap[lng] || lng.split('-')[0];
      }
    },
  });

export default i18n;